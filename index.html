<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>UCL Media Industry Visualization | Maps</title>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<meta name="description" content="This page provides various visualizations of data from the worldwide media industry according to user-chosen parameters.">
		<meta name="author" content="Joris Van den Broeck, Morrison Cole">
		
		<!-- Styles -->
		<link href="assets/css/bootstrap.css" rel="stylesheet">
		<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
		<link href='styles/map.css' media='all' rel='stylesheet' type='text/css' />
		
		<!-- A HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>
	
	<body>
		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container-fluid">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html">UCL Media Industry Visualization</a>
					<div class="nav-collapse">
						<ul class="nav">
							<li class="active"><a href="index.html">Maps</a></li>
							<li><a href="charts.html">Charts</a></li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

		<!-- Map and search template by Derek Eder: http://derekeder.com -->
		<div id="page"> 
			<div class="content-secondary">
				<div id='search'>
					<p class='tagline'>Select visualization options below:</p>
					<ul class='options-v'>
						<li><span><label for='cbType4'><input type='checkbox' id='cbType4' onclick="checkHeatmap()" />Show heatmap overlay</label></span> </li>
					</ul>
					<h4>Sector</h4>
					<ul class='options-v'>
						<li><span id="label-blue"><label for='cbType1'><input type='checkbox' id='cbType1' />Film Industry</label></span> </li>
						<li><span id="label-green"><label for='cbType2'><input type='checkbox' id='cbType2' />Games Industry</label></span></li>
						<li><span id="label-red"><label for='cbType3'><input type='checkbox' id='cbType3' />Film Production</label></span> </li>
					</ul>

					<div class='input-addr'>
						<h4>Address <span>(<a href='#' onclick="findMe(); return false;">find me</a>)</span></h4>
						<p><input class='txt hint' type="text" title="Enter an address or an intersection &hellip;" id="txtSearchAddress" onkeydown="if (event.keyCode == 13) document.getElementById('btnSearch').click()"/></p>
					</div>
					
					<div class='input-radius'>
						<h4>&nbsp;<span class='mute'>within &hellip;</span></h4>
						<p>
						<select id='ddlRadius'>
							<option value='400'>400 meters</option>
							<option value='805'>1/2 mile</option>
							<option value='1610'>1 mile</option>
							<option value='3220'>2 miles</option>
							<option value='6438'>4 miles</option>
						</select>
						</p>
					</div>
					
					<div class='clear'></div>
					
					<input class="btn" type="button" id="btnSearch" value="Search" onclick="doSearch();" />
					<span class='mute'><a href='#' onclick="initialize();">reset map</a></span>
					<span id='resultCount'>&nbsp;</span>
					<hr />


					<form name="map_source_form" action="" >
						<textarea rows=3 cols=45 id=map_source disabled=disabled name=map_source>
						</textarea>
					</form> 
						<a href="javascript:copy(document.map_source_form.map_source);">Copy the Text!</a>


					<div id="test"></div>


					<a href="" onclick="printSelection(document.getElementById('map_canvas'));return false">Get HTML code from the map.</a>

					<hr />

					<p class='mute'>View the raw data in Fusion Tables <a href='http://www.google.com/fusiontables/DataSource?dsrcid=2961086'>here</a>. 
				</div>
			</div>
			
			<div class="content-primary">
				<div id="map_canvas"></div>
			</div>
		</div>
	
		<!-- Javascript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
		<script type="text/javascript" src="http://www.google.com/jsapi"></script>
		<script src="source/maps_lib.js" type="text/javascript"></script>
		<script src="source/jquery.ezpz_hint.min.js" type="text/javascript"></script>
		<script src="assets/js/jquery.js"></script>

		<script type="text/javascript">
			jQuery(document).ready(function() {
				initialize();
				jQuery(".hint").ezpz_hint();
				$(':checkbox').click(function(){
					doSearch();
				});
			});
		</script>

		<script type="text/javascript">
			function printSelection(node){
				var content = node.innerHTML;

				//document.map_source.textarea.value = content

				document.getElementById('map_source').innerText= content;
			}
		</script>

		<script>
			$(function () {
				$('.tabs a:last').tab('show')
			})
		</script>
		
		<script type="text/javascript">
			function checkHeatmap(){
				var checkbox = document.getElementById("cbType4");
				if(checkbox.checked){
					showHeatmap();
				}
				else
				{
					hideHeatmap();
				}
			}
		</script>
<script language="javascript">


function copy(inElement) {
  if (inElement.createTextRange) {
    var range = inElement.createTextRange();
    if (range)
      range.execCommand('Copy');
  } else {
    var flashcopier = 'flashcopier';
    if(!document.getElementById(flashcopier)) {
      var divholder = document.createElement('div');
      divholder.id = flashcopier;
      document.body.appendChild(divholder);
    }
    document.getElementById(flashcopier).innerHTML = '';
    var divinfo = '<embed src="_clipboard.swf" FlashVars="clipboard='+encodeURIComponent(inElement.value)+'" width="0" height="0" type="application/x-shockwave-flash"></embed>';
    document.getElementById(flashcopier).innerHTML = divinfo;
  }
}

</script>
		
	</body>
</html>
